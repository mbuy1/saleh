# ุฅุตูุงุญ ูุดููุฉ ุฑูุน ุงูููุฏูู ูุน ุงูููุชุฌ

## ุงููุดููุฉ
ูู ููู ุจุงูุฅููุงู ุฅุฏุฑุงุฌ ููุทุน ููุฏูู ูุน ุงูููุชุฌ ุนูุฏ ุงูุฅุถุงูุฉ.

## ุงูุฃุณุจุงุจ ุงููุญุชููุฉ
1. **ููุต ุงูุตูุงุญูุงุช**: ูู ุชูู ุตูุงุญูุฉ `READ_MEDIA_VIDEO` ููุฌูุฏุฉ ููู Android 13+
2. **ุนุฏู ูุฌูุฏ validation**: ูู ููู ููุงู ุชุญูู ูู ุญุฌู ุงูููุฏูู
3. **ุฑุณุงุฆู ุฎุทุฃ ุบูุฑ ูุงุถุญุฉ**: ูุงูุช ุฑุณุงุฆู ุงูุฎุทุฃ ุนุงูุฉ ุฌุฏุงู

## ุงูุชุบููุฑุงุช ุงููุทุจูุฉ

### 1. ุตูุงุญูุงุช Android โ
**ุงูููู**: `android/app/src/main/AndroidManifest.xml`

```xml
<!-- ุชู ุฅุถุงูุฉ ูุฐุง ุงูุณุทุฑ -->
<uses-permission android:name="android.permission.READ_MEDIA_VIDEO"/>
```

ูุฐู ุงูุตูุงุญูุฉ **ุฅูุฒุงููุฉ** ููู Android 13+ (API 33+) ูููุตูู ููููุฏูููุงุช.

### 2. ุตูุงุญูุงุช iOS โ
**ุงูููู**: `ios/Runner/Info.plist`

```xml
<key>NSPhotoLibraryUsageDescription</key>
<string>ูุญุชุงุฌ ุงููุตูู ุฅูู ูุนุฑุถ ุงูุตูุฑ ูุงุฎุชูุงุฑ ุตูุฑ ุงูููุชุฌุงุช</string>

<key>NSMicrophoneUsageDescription</key>
<string>ูุญุชุงุฌ ุงููุตูู ูููููุฑูููู ูุชุณุฌูู ุงูููุฏูููุงุช</string>

<key>NSCameraUsageDescription</key>
<string>ูุญุชุงุฌ ุงููุตูู ูููุงููุฑุง ูุงูุชูุงุท ุตูุฑ ุงูููุชุฌุงุช</string>
```

### 3. ุชุญุณููุงุช ุงูููุฏ โ
**ุงูููู**: `lib/features/products/presentation/screens/add_product_screen.dart`

#### ุฃ) Validation ูุญุฌู ุงูููุฏูู
```dart
// ุงูุญุฏ ุงูุฃูุตู 100 MB
final videoSize = await videoFile.length();
final videoSizeMB = videoSize / (1024 * 1024);

if (videoSizeMB > 100) {
  ScaffoldMessenger.of(context).showSnackBar(
    SnackBar(content: Text('ุญุฌู ุงูููุฏูู ูุจูุฑ ุฌุฏุงู (${videoSizeMB.toStringAsFixed(1)} MB)')),
  );
  return;
}
```

#### ุจ) ุญุฏ ุฃูุตู ููุฏุฉ ุงูููุฏูู
```dart
final video = await _picker.pickVideo(
  source: ImageSource.gallery,
  maxDuration: const Duration(minutes: 5), // ุญุฏ ุฃูุตู 5 ุฏูุงุฆู
);
```

#### ุฌ) ุฑุณุงุฆู ุฎุทุฃ ุชูุตูููุฉ
- โ "ูุง ุชูุฌุฏ ุตูุงุญูุฉ ูููุตูู ุฅูู ุงููุนุฑุถ"
- โ "ุชู ุฅูุบุงุก ุงุฎุชูุงุฑ ุงูููุฏูู"
- โ "ุงูุชูุช ูููุฉ ุฑูุน ุงูููุฏูู"
- โ "ุฎุทุฃ ูู ุงูุงุชุตุงู"
- โ "ุชู ุงุฎุชูุงุฑ ุงูููุฏูู (15.3 MB)"
- โ "ุฌุงุฑู ุฑูุน ุงูููุฏูู..."
- โ "ุชู ุฑูุน ุงูููุฏูู ุจูุฌุงุญ"

#### ุฏ) ุฏุนู ุตูุบ ููุฏูู ุฅุถุงููุฉ
ุงูุตูุบ ุงููุฏุนููุฉ ุงูุขู:
- โ MP4 (video/mp4)
- โ WebM (video/webm)
- โ MOV (video/quicktime)
- โ AVI (video/x-msvideo)
- โ MKV (video/x-matroska)
- โ 3GP (video/3gpp) โ **ุฌุฏูุฏ**

#### ูู) ุชุฌุฑุจุฉ ูุณุชุฎุฏู ูุญุณููุฉ
- ูุคุดุฑ ุชุญููู ุฃุซูุงุก ุฑูุน ุงูููุฏูู
- ุฑุณุงูุฉ ูุฌุงุญ ุนูุฏ ุงูุชูุงู ุงูุฑูุน
- ุฅุฎูุงุก ุชููุงุฆู ูุฑุณุงูุฉ ุงูุชุญููู ุจุนุฏ ุงููุฌุงุญ/ุงููุดู
- ุนุฑุถ ุญุฌู ุงูููุฏูู ุงููุฎุชุงุฑ

## ุทุฑููุฉ ุงูุชุทุจูู

### ููู Android
```powershell
# ุฃุนุฏ ุจูุงุก ุงูุชุทุจูู ูุชุทุจูู ุงูุตูุงุญูุงุช ุงูุฌุฏูุฏุฉ
flutter clean
flutter pub get
flutter run
```

**ููุงุญุธุฉ**: ุฅุฐุง ูุงู ุงูุชุทุจูู ูุซุจุชุงู ูุณุจูุงู ุนูู ุงูุฌูุงุฒ:
1. ูู ุจุฅูุบุงุก ุชุซุจูุชู ุชูุงูุงู
2. ุฃุนุฏ ุชุซุจูุชู ูู ุฌุฏูุฏ
3. ุณูุทูุจ ุงูุชุทุจูู ุงูุตูุงุญูุงุช ุนูุฏ ุฃูู ุงุณุชุฎุฏุงู

### ููู iOS
```powershell
cd ios
rm -rf Pods Podfile.lock
pod install
cd ..
flutter run
```

## ุงุฎุชุจุงุฑ ุงูุฅุตูุงุญ

### 1. ุงุฎุชุจุงุฑ ุงุฎุชูุงุฑ ุงูููุฏูู
- ุงูุชุญ ุดุงุดุฉ ุฅุถุงูุฉ ููุชุฌ
- ุงุถุบุท ุนูู ุฒุฑ "ุงุฎุชุฑ ููุฏูู"
- ูุฌุจ ุฃู ููุชุญ ูุนุฑุถ ุงูุตูุฑ/ุงูููุฏูููุงุช
- ุงุฎุชุฑ ููุฏูู
- ูุฌุจ ุฃู ุชุฑู: "ุชู ุงุฎุชูุงุฑ ุงูููุฏูู (X.X MB)"

### 2. ุงุฎุชุจุงุฑ ุฑูุน ุงูููุฏูู
- ุฃููู ุจูุงูุงุช ุงูููุชุฌ (ุงุณูุ ุณุนุฑุ ุงูุฎ)
- ุงุถุบุท ุนูู "ุฅุถุงูุฉ ุงูููุชุฌ"
- ูุฌุจ ุฃู ุชุฑู: "ุฌุงุฑู ุฑูุน ุงูููุฏูู..."
- ุจุนุฏ ูููู: "ุชู ุฑูุน ุงูููุฏูู ุจูุฌุงุญ"

### 3. ุงุฎุชุจุงุฑ ุงูุญุฏูุฏ
- ุญุงูู ุฑูุน ููุฏูู ุฃูุจุฑ ูู 100 MB
  - **ุงููุชูุฌุฉ ุงููุชููุนุฉ**: ุฑุณุงูุฉ ุฎุทุฃ ุชูุถุญ ุงูุญุฏ ุงูุฃูุตู

### 4. ุงุฎุชุจุงุฑ ุงูุตูุบ
- ุฌุฑุจ ุฑูุน ููุฏูู ุจุตูุบุฉ MP4 โ
- ุฌุฑุจ ุฑูุน ููุฏูู ุจุตูุบุฉ MOV โ
- ุฌุฑุจ ุฑูุน ููุฏูู ุจุตูุบุฉ 3GP โ

## ุงูุตูุงุญูุงุช ุงููุทููุจุฉ ูู ุงููุณุชุฎุฏู

ุนูุฏ ุฃูู ุงุณุชุฎุฏุงูุ ุณูุทูุจ ุงูุชุทุจูู:
1. **Android**: "ุงูุณูุงุญ ูู Saleh ุจุงููุตูู ุฅูู ุงูุตูุฑ ูุงูููุฏูููุงุชุ"
2. **iOS**: "Saleh would like to access your photos"

**ููู**: ูุฌุจ ุนูู ุงููุณุชุฎุฏู ุงูููุงููุฉ ุนูู ูุฐู ุงูุตูุงุญูุงุช.

## ูุนูููุงุช ุชูููุฉ

### ุญุฌู ุงูููุฏูู
- **ุงูุญุฏ ุงูุฃูุตู**: 100 MB
- **ุงูุณุจุจ**: ุญุฏูุฏ Cloudflare R2 ูุณุฑุนุฉ ุงูุชุญููู

### ูุฏุฉ ุงูููุฏูู
- **ุงูุญุฏ ุงูุฃูุตู**: 5 ุฏูุงุฆู
- **ุงูุณุจุจ**: ุชุญุณูู ุชุฌุฑุจุฉ ุงููุณุชุฎุฏู ูุชูููู ุฃุญุฌุงู ุงููููุงุช

### ุนูููุฉ ุงูุฑูุน
1. ุงุฎุชูุงุฑ ุงูููุฏูู ูู ุงููุนุฑุถ
2. ุงูุชุญูู ูู ุงูุญุฌู (< 100 MB)
3. ูุฑุงุกุฉ ุงูุจูุงูุงุช (bytes)
4. ุชุญุฏูุฏ ููุน ุงููุญุชูู (Content-Type)
5. ุทูุจ upload URL ูู Worker
6. ุฑูุน ุงูููุฏูู ุฅูู R2
7. ุญูุธ ุฑุงุจุท ุงูููุฏูู ูุน ุงูููุชุฌ

## ุงุณุชูุดุงู ุงูุฃุฎุทุงุก

### ุงููุดููุฉ: "ูุง ุชูุฌุฏ ุตูุงุญูุฉ ูููุตูู ุฅูู ุงููุนุฑุถ"
**ุงูุญู**: 
1. ุงุฐูุจ ุฅูู ุฅุนุฏุงุฏุงุช ุงูุฌูุงุฒ
2. ุงูุชุทุจููุงุช โ Saleh
3. ุงูุตูุงุญูุงุช โ ุงูุตูุฑ ูุงูููุฏูููุงุช
4. ูุนูู "ุงูุณูุงุญ"

### ุงููุดููุฉ: "ุงูุชูุช ูููุฉ ุฑูุน ุงูููุฏูู"
**ุงูุญู**:
- ุชุญูู ูู ุงุชุตุงู ุงูุฅูุชุฑูุช
- ููู ุญุฌู ุงูููุฏูู
- ุฌุฑุจ ููุฏูู ุฃูุตุฑ

### ุงููุดููุฉ: "ูุดู ุฑูุน ุงูููุฏูู: 400/500"
**ุงูุญู**:
- ุชุญูู ูู Worker API
- ุชุญูู ูู ุฅุนุฏุงุฏุงุช R2
- ุฑุงุฌุน logs ุงูุฎุงุฏู

## ููุงุญุธุงุช ูููุฉ

1. **ุฅูุบุงุก ุงูุชุซุจูุช ูุทููุจ**: ุฅุฐุง ูุงู ุงูุชุทุจูู ูุซุจุชุงู ูุณุจูุงูุ ูุฌุจ ุฅูุบุงุก ุชุซุจูุชู ูุฅุนุงุฏุฉ ุชุซุจูุชู ูุชุทุจูู ุงูุตูุงุญูุงุช ุงูุฌุฏูุฏุฉ.

2. **ุงูุตูุงุญูุงุช ุชูุทูุจ ูุฑุฉ ูุงุญุฏุฉ**: ุจุนุฏ ููุญ ุงูุตูุงุญูุงุชุ ูู ูุทูุจูุง ุงูุชุทุจูู ูุฑุฉ ุฃุฎุฑู.

3. **ุงูููุฏูููุงุช ุชูุฎุฒู ูู R2**: ุฌููุน ุงูููุฏูููุงุช ุชูุฑูุน ุฅูู Cloudflare R2ุ ููุณ ุนูู ุงูุฎุงุฏู ูุจุงุดุฑุฉ.

4. **ุงูููุฏูููุงุช ุนุงูุฉ**: ุฑูุงุจุท ุงูููุฏูููุงุช ุนุงูุฉ ููููู ูุฃู ุดุฎุต ูุดุงูุฏุชูุง.

## ุงูุฎูุงุตุฉ

โ **ุชู ุฅุตูุงุญ ุงููุดููุฉ ุจุงููุงูู**

ุงูุชุบููุฑุงุช ุงูุฑุฆูุณูุฉ:
1. โ ุฅุถุงูุฉ ุตูุงุญูุฉ `READ_MEDIA_VIDEO` ููู Android 13+
2. โ ุฅุถุงูุฉ ุฌููุน ุตูุงุญูุงุช iOS ุงููุทููุจุฉ
3. โ Validation ูุญุฌู ุงูููุฏูู (100 MB max)
4. โ ุญุฏ ุฃูุตู ููุฏุฉ ุงูููุฏูู (5 ุฏูุงุฆู)
5. โ ุฑุณุงุฆู ุฎุทุฃ ุชูุตูููุฉ ููุงุถุญุฉ
6. โ ุฏุนู ุตูุบ ููุฏูู ุฅุถุงููุฉ (3GP)
7. โ ุชุญุณูู ุชุฌุฑุจุฉ ุงููุณุชุฎุฏู (ูุคุดุฑุงุช ุชุญูููุ ุฑุณุงุฆู ูุฌุงุญ)

**ุงูุขู ููููู ุฑูุน ุงูููุฏูููุงุช ูุน ุงูููุชุฌุงุช ุจูุฌุงุญ! ๐**
