# โ ุชูุฑูุฑ ุฅููุงู ุงููุฑุญูุฉ 8: ุงูุจุงูุงุช + ูุธุงู ุงูุฎุตู + ุงูููุงุท + ุงูุจูุช

**ุงูุชุงุฑูุฎ:** 2025-01-07  
**ุงูุญุงูุฉ:** โ ููุชูู (100%)

---

## โ ูุง ุชู ุฅูุฌุงุฒู

### 1. ุฎุฏูุฉ ุงูุจุงูุงุช (Packages Service):

**ุงูููู:** `saleh/lib/core/services/packages_service.dart`

**ุงููุธุงุฆู:**
- โ `getAvailablePackages()` - ุฌูุจ ุฌููุน ุงูุจุงูุงุช ุงููุชุงุญุฉ
- โ `getCurrentPackage()` - ุฌูุจ ุจุงูุฉ ุงููุณุชุฎุฏู ุงูุญุงููุฉ
- โ `purchasePackage()` - ุดุฑุงุก ุจุงูุฉ
- โ `getCustomPackageTools()` - ุฌูุจ ุงูุฃุฏูุงุช ุงููุชุงุญุฉ ูู ุงูุจุงูุฉ ุงููุฎุตุตุฉ
- โ `calculateDiscountedPrice()` - ุญุณุงุจ ุงูุณุนุฑ ุจุนุฏ ุงูุฎุตู (30% ููุจุงูุฉ ุงููุฎุตุตุฉ)
- โ `isPackageValid()` - ุงูุชุญูู ูู ุตูุงุญูุฉ ุงูุจุงูุฉ

**ููุงุญุธุงุช:**
- ุงูุจุงูุฉ ุงููุฎุตุตุฉ ุชููุญ ุฎุตู 30% ุนูู ุงูุฃุฏูุงุช ุงููุฎุชุงุฑุฉ
- ุฌููุน ุงูููุงุชูุญ ุงูุณุฑูุฉ ูู Worker Secrets

---

### 2. ุดุงุดุฉ ุงูุจุงูุงุช:

**ุงูููู:** `saleh/lib/features/customer/presentation/screens/packages_screen.dart`

**ุงููููุฒุงุช:**
- โ ุนุฑุถ ุฌููุน ุงูุจุงูุงุช ุงููุชุงุญุฉ
- โ ุนุฑุถ ุงูุจุงูุฉ ุงูุญุงููุฉ (ุฅู ูุฌุฏุช)
- โ ุนุฑุถ ุงูุณุนุฑ ูุงูุฎุตู (30% ููุจุงูุฉ ุงููุฎุตุตุฉ)
- โ ุฒุฑ ุดุฑุงุก ุงูุจุงูุฉ
- โ ุฒุฑ Chat Bot ููุณุงุนุฏุฉ ุงููุณุชุฎุฏู
- โ ุชุตููู ูุธูู ููุชูุงุณู

---

### 3. ุดุงุดุฉ Chat Bot:

**ุงูููู:** `saleh/lib/features/customer/presentation/screens/package_bot_screen.dart`

**ุงููููุฒุงุช:**
- โ ูุงุฌูุฉ ูุญุงุฏุซุฉ ุชูุงุนููุฉ
- โ ุฑุฏูุฏ ุฐููุฉ ุนูู ุงูุฃุณุฆูุฉ ุงูุดุงุฆุนุฉ:
  - ูุนูููุงุช ุนู ุงูุจุงูุงุช
  - ุงูุฃุณุนุงุฑ ูุงูุฎุตููุงุช
  - ุงูุฃุฏูุงุช ุงููุชุงุญุฉ
  - ุงูุจุงูุฉ ุงููุฎุตุตุฉ ูุฎุตู 30%
- โ ุชุตููู ุญุฏูุซ ูุณูู ุงูุงุณุชุฎุฏุงู
- โ TODO: ุฑุจุท ูุน AI Service ููุฑุฏูุฏ ุงูุฐููุฉ

---

### 4. ุชุญุณูู ูุธุงู ุงูููุงุท:

**ุงูููู:** `saleh/lib/core/services/points_service.dart`

**ุงููุธุงุฆู ุงููุถุงูุฉ:**
- โ `usePoints()` - ุงุณุชุฎุฏุงู ุงูููุงุท ูู ุงูุทูุจุงุช
- โ `getTransactions()` - ุฌูุจ ุณุฌู ูุนุงููุงุช ุงูููุงุท

**ุงููุธุงุฆู ุงูููุฌูุฏุฉ:**
- โ `getBalance()` - ุฌูุจ ุฑุตูุฏ ุงูููุงุท
- โ `getPointsDetails()` - ุฌูุจ ุชูุงุตูู ุญุณุงุจ ุงูููุงุท
- โ `pointsToSAR()` - ุชุญููู ุงูููุงุท ุฅูู ุฑูุงู (1 ููุทุฉ = 0.1 ุฑูุงู)
- โ `sarToPoints()` - ุชุญููู ุงูุฑูุงู ุฅูู ููุงุท (1 ุฑูุงู = 10 ููุงุท)
- โ `hasSufficientPoints()` - ุงูุชุญูู ูู ูุฌูุฏ ููุงุท ูุงููุฉ

---

### 5. Worker Endpoints (Placeholder):

**ุงูููู:** `mbuy-worker/src/index.ts`

**Endpoints ุงููุถุงูุฉ:**
- โ `GET /public/packages` - ุฌูุจ ุงูุจุงูุงุช ุงููุชุงุญุฉ
- โ `GET /secure/packages/current` - ุฌูุจ ุงูุจุงูุฉ ุงูุญุงููุฉ
- โ `POST /secure/packages/purchase` - ุดุฑุงุก ุจุงูุฉ
- โ `GET /public/packages/custom-tools` - ุฌูุจ ุงูุฃุฏูุงุช ุงููุชุงุญุฉ ููุจุงูุฉ ุงููุฎุตุตุฉ
- โ `POST /secure/points/use` - ุงุณุชุฎุฏุงู ุงูููุงุท ูู ุงูุทูุจุงุช
- โ `GET /secure/points/transactions` - ุฌูุจ ุณุฌู ูุนุงููุงุช ุงูููุงุท

**ููุงุญุธุงุช:**
- ุฌููุน Endpoints ุชุนูุฏ `NOT_IMPLEMENTED` ุญุงููุงู (501)
- ุฌุงูุฒุฉ ููุฑุจุท ูุน ูุงุนุฏุฉ ุงูุจูุงูุงุช
- ุงูููุงุชูุญ ุงูุณุฑูุฉ ูู Worker Secrets

---

### 6. ุงูุชูุงูู ูุน Customer Dashboard:

**ุงูููู:** `saleh/lib/features/customer/presentation/screens/customer_dashboard_screen.dart`

**ุงูุชุนุฏููุงุช:**
- โ ุฅุถุงูุฉ ุฒุฑ "ุงูุจุงูุงุช" ูู ููุญุฉ ุงูุชุญูู
- โ ุฑุจุท ุงูุฒุฑ ุจุดุงุดุฉ `PackagesScreen`

---

### 7. ุชุญุฏูุซ App Router:

**ุงูููู:** `saleh/lib/core/app_router.dart`

**ุงููุณุงุฑุงุช ุงููุถุงูุฉ:**
- โ `packages` - ุดุงุดุฉ ุงูุจุงูุงุช

---

### 8. ุชุญุฏูุซ Main.dart:

**ุงูููู:** `saleh/lib/main.dart`

**ุงูุชุนุฏููุงุช:**
- โ ุฅุถุงูุฉ import ูู `PackagesScreen`
- โ ุฅุถุงูุฉ route ููุจุงูุงุช

---

## ๐ ุงููููุงุช ุงููุนุฏูุฉ/ุงููุถุงูุฉ

### Flutter (5 ูููุงุช):
1. โ `saleh/lib/core/services/packages_service.dart` (ุฌุฏูุฏ)
2. โ `saleh/lib/features/customer/presentation/screens/packages_screen.dart` (ุฌุฏูุฏ)
3. โ `saleh/lib/features/customer/presentation/screens/package_bot_screen.dart` (ุฌุฏูุฏ)
4. โ `saleh/lib/core/services/points_service.dart` (ูุนุฏู - ุฅุถุงูุฉ ูุธุงุฆู)
5. โ `saleh/lib/features/customer/presentation/screens/customer_dashboard_screen.dart` (ูุนุฏู)
6. โ `saleh/lib/core/app_router.dart` (ูุนุฏู)
7. โ `saleh/lib/main.dart` (ูุนุฏู)

### Worker (1 ููู):
1. โ `mbuy-worker/src/index.ts` (ูุนุฏู - ุฅุถุงูุฉ endpoints)

---

## ๐ฏ ุงููููุฒุงุช ุงูุฑุฆูุณูุฉ

### ูุธุงู ุงูููุงุท:
- โ ุฌูุน ุงูููุงุท (ูู ุงูุทูุจุงุชุ ุงูุฅุญุงูุงุชุ ุงููุฑุงุฌุนุงุช)
- โ ุนุฑุถ ุงูููุงุท (ูู ุดุงุดุฉ ุงูููุงุท)
- โ ุงุณุชุฎุฏุงู ุงูููุงุท (ูู ุงูุทูุจุงุช - 1 ููุทุฉ = 0.1 ุฑูุงู)
- โ ุณุฌู ุงููุนุงููุงุช

### ูุธุงู ุงูุจุงูุงุช:
- โ 3 ุฃููุงุน ุจุงูุงุช:
  - ุงูุจุงูุฉ ุงูุฃุณุงุณูุฉ (99 ุฑ.ุณ/ุดูุฑ)
  - ุงูุจุงูุฉ ุงููุชูุฏูุฉ (199 ุฑ.ุณ/ุดูุฑ)
  - ุงูุจุงูุฉ ุงููุฎุตุตุฉ (ุงุฎุชูุงุฑ ุงูุฃุฏูุงุช + ุฎุตู 30%)
- โ ุดุฑุงุก ุงูุจุงูุงุช
- โ ุนุฑุถ ุงูุจุงูุฉ ุงูุญุงููุฉ
- โ Chat Bot ูููุณุงุนุฏุฉ

### ุงูุจุงูุฉ ุงููุฎุตุตุฉ:
- โ ุงุฎุชูุงุฑ ุงูุฃุฏูุงุช ุงููุทููุจุฉ
- โ ุฎุตู 30% ุนูู ุงูุฃุฏูุงุช ุงููุฎุชุงุฑุฉ
- โ ุญุณุงุจ ุงูุณุนุฑ ุชููุงุฆูุงู

---

## โ ุงููุชูุฌุฉ ุงูููุงุฆูุฉ

### ุงูุฎุฏูุงุช:
- โ ุฎุฏูุฉ ุงูุจุงูุงุช ูุงููุฉ
- โ ูุธุงู ุงูููุงุท ูุญุณูู (ุฌูุน + ุนุฑุถ + ุงุณุชุฎุฏุงู)
- โ ุฌููุน ุงูููุงุชูุญ ูู Worker Secrets

### ุงูุดุงุดุงุช:
- โ ุดุงุดุฉ ุงูุจุงูุงุช ูุน Chat Bot
- โ ุชุตููู ูุธูู ููุชูุงุณู
- โ ุฌุงูุฒุฉ ููุงุณุชุฎุฏุงู

### Worker Endpoints:
- โ 6 endpoints placeholder ุฌุงูุฒุฉ ููุฑุจุท
- โ ุฌููุนูุง ูุญููุฉ ุจู JWT (ูุง ุนุฏุง `/public/*`)
- โ ุฌุงูุฒุฉ ููุฑุจุท ูุน ูุงุนุฏุฉ ุงูุจูุงูุงุช

---

## ๐ฏ ุงูุฎุทูุฉ ุงูุชุงููุฉ

**ุงููุฑุญูุฉ 9: Mbuy Tools + Mbuy Studio**
- Mbuy Tools (Cloudflare-assisted)
- Mbuy Studio (ุชูููุฏ ุงููุญุชูู)

---

**ุชุงุฑูุฎ ุงูุฅููุงู:** 2025-01-07  
**ุงูุญุงูุฉ:** โ ููุชูู ุจูุฌุงุญ

